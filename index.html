<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NYC Traffic Collision Analysis</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Leaflet for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Plotly for interactive charts -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <header>
        <h1>NYC Traffic Collision Analysis</h1>
        <nav>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#map">Collision Map</a></li>
                <li><a href="#patterns">Patterns</a></li>
                <li><a href="#factors">Contributing Factors</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="overview" class="narrative-section">
            <h2>Understanding NYC Traffic Collisions</h2>
            <div class="narrative-content">
                <p>Every day, thousands of vehicles navigate New York City's streets. While most journeys are completed safely, accidents do occur. This visualization explores patterns in traffic collisions across the city, helping us understand when and where accidents are most likely to happen.</p>
                
                <div class="key-stats">
                    <div class="stat-card">
                        <h3>Daily Collisions</h3>
                        <p class="stat-number">5,950</p>
                        <p class="stat-desc">Average daily collisions in NYC</p>
                    </div>
                    <div class="stat-card">
                        <h3>High-Risk Hours</h3>
                        <p class="stat-number">3-6 PM</p>
                        <p class="stat-desc">Peak collision hours</p>
                    </div>
                    <div class="stat-card">
                        <h3>Most Common Factor</h3>
                        <p class="stat-number">Distraction</p>
                        <p class="stat-desc">Leading cause of collisions</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="map" class="narrative-section">
            <h2>Collision Hotspots</h2>
            <div class="narrative-content">
                <p>Explore the map below to see where collisions occur most frequently. Click on any point to see details about the collision, including time, severity, and contributing factors.</p>
                <div class="controls">
                    <select id="time-filter">
                        <option value="all">All Times</option>
                        <option value="morning">Morning (6AM-12PM)</option>
                        <option value="afternoon">Afternoon (12PM-6PM)</option>
                        <option value="evening">Evening (6PM-12AM)</option>
                        <option value="night">Night (12AM-6AM)</option>
                    </select>
                    <select id="severity-filter">
                        <option value="all">All Severities</option>
                        <option value="fatal">Fatal</option>
                        <option value="severe">Severe</option>
                        <option value="minor">Minor</option>
                        <option value="property">Property Damage Only</option>
                    </select>
                </div>
                <div id="map-container"></div>
            </div>
        </section>

        <section id="patterns" class="narrative-section">
            <h2>Temporal Patterns</h2>
            <div class="narrative-content">
                <p>When do collisions occur most frequently? The charts below show patterns by time of day, day of week, and weather conditions.</p>
                <div class="chart-grid">
                    <div id="time-chart" class="chart-container"></div>
                    <div id="weather-chart" class="chart-container"></div>
                </div>
                <div class="insights">
                    <h3>Key Insights</h3>
                    <ul>
                        <li>Rush hour periods show significantly higher collision rates</li>
                        <li>Weekend nights see more severe collisions</li>
                        <li>Weather conditions have a major impact on collision frequency</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="factors" class="narrative-section">
            <h2>Contributing Factors</h2>
            <div class="narrative-content">
                <p>What leads to collisions? Explore the relationships between different contributing factors and collision severity.</p>
                <div id="factors-chart" class="chart-container"></div>
                <div class="insights">
                    <h3>Common Factors</h3>
                    <ul>
                        <li>Driver inattention/distraction</li>
                        <li>Failure to yield right of way</li>
                        <li>Following too closely</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Data source: <a href="https://data.cityofnewyork.us/Public-Safety/Motor-Vehicle-Collisions-Crashes/h9gi-nx95/about_data" target="_blank">NYC Open Data - Motor Vehicle Collisions</a></p>
        <p>Created for Data Visualization Course Project</p>
        <p>View the <a href="explainer.html" target="_blank">Explainer Notebook</a> for detailed analysis methodology and findings</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/map.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/stats.js"></script>
</body>
</html> 